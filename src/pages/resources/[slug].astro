---
import Layout from "../../layouts/Layout.astro";
import BlogDetailsHeroSectionWrapper from "../../components/wrapper/BlogDetailsHeroSectionWrapper.vue";
import BlogDetailContentWrapper from "../../components/wrapper/BlogDetailContentWrapper.vue";
import SingleAuthorDetails from "../../components/blogs/SingleAuthorDetails.vue";
import CaseStudyWrapper from "../../components/wrapper/CaseStudyWrapper.vue";
import { getAllResourceBlogs, getResBlogsBySlug } from "@/utils/api/resources";
import { getCaseStudies } from "@/utils/api/blogs";

export async function getStaticPaths() {
  const blogs = await getAllResourceBlogs();
  return blogs?.map((it) => ({
    params: { slug: it.slug },
  }));
}

const { slug }: any = Astro.params;
const SlugData = await getResBlogsBySlug(slug) || {}; // âœ… Use cache lookup
const loadcaseStudyData = await getCaseStudies();
---
